SIMPLE PRINT REPORTS - KEEP EVERYTHING UNCHANGED:
Only add print functionality for reports:
ADD PRINT BUTTONS TO TEST RESULTS
javascriptCopy// Add print button when viewing test results
function viewTestResults(classId, testId) {
    const classes = getUserData('teacherClasses');
    const currentClass = classes.find(c => c.id == classId);
    const test = currentClass.scoresheets.find(t => t.id == testId);
    
    let reportHTML = `
        <div class="test-report" id="testReport">
            <h3>üìä ${test.subject} - ${test.topic}</h3>
            <p><strong>Class:</strong> ${currentClass.name} | <strong>Date:</strong> ${test.date}</p>
            
            <table border="1" style="width: 100%; border-collapse: collapse;">
                <tr>
                    <th>Student Name</th>
                    <th>Marks</th>
                    <th>Percentage</th>
                    <th>Grade</th>
                </tr>
                ${test.scores.map(score => `
                    <tr>
                        <td>${score.studentName}</td>
                        <td>${score.obtainedMarks}/${test.totalMarks}</td>
                        <td>${score.percentage}%</td>
                        <td>${calculateLetterGrade(score.percentage)}</td>
                    </tr>
                `).join('')}
            </table>
        </div>
        
        <button onclick="printTestReport()" style="background: green; color: white; padding: 10px; margin: 10px;">
            üñ®Ô∏è Print Test Report
        </button>
        <button onclick="openClass(${classId})">Back to Class</button>
    `;
    
    document.getElementById('classDetails').innerHTML = reportHTML;
}

function printTestReport() {
    const printContent = document.getElementById('testReport').innerHTML;
    const printWindow = window.open('', '', 'height=600,width=800');
    
    printWindow.document.write(`
        <html>
        <head>
            <title>Test Report</title>
            <style>
                body { font-family: Arial; padding: 20px; }
                table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                th, td { border: 1px solid black; padding: 8px; text-align: left; }
                th { background-color: #f2f2f2; }
                h3 { color: #333; }
            </style>
        </head>
        <body>
            ${printContent}
            <p style="margin-top: 30px; font-size: 12px;">Generated by Ustaad Dost - ${new Date().toLocaleDateString()}</p>
        </body>
        </html>
    `);
    
    printWindow.document.close();
    printWindow.print();
}

function calculateLetterGrade(percentage) {
    if (percentage >= 90) return 'A+';
    if (percentage >= 80) return 'A';
    if (percentage >= 70) return 'B';
    if (percentage >= 60) return 'C';
    if (percentage >= 50) return 'D';
    return 'F';
}
ADD STUDENT PROGRESS REPORTS
javascriptCopy// Add progress report buttons to student profile
function viewStudentProgress(classId, studentId) {
    const classes = getUserData('teacherClasses');
    const currentClass = classes.find(c => c.id == classId);
    const student = currentClass.students.find(s => s.id == studentId);
    
    // Get all tests for this student
    const studentTests = currentClass.scoresheets.map(test => {
        const studentScore = test.scores.find(score => score.studentId == studentId);
        return {
            subject: test.subject,
            topic: test.topic,
            date: test.date,
            score: studentScore || null
        };
    }).filter(test => test.score);
    
    const progressHTML = `
        <div class="student-progress">
            <h3>üìà ${student.name} - Progress Report</h3>
            
            <div class="report-buttons">
                <button onclick="printWeeklyProgress(${classId}, ${studentId})" style="background: blue; color: white; padding: 10px; margin: 5px;">
                    üìÖ Weekly Report
                </button>
                <button onclick="printMonthlyProgress(${classId}, ${studentId})" style="background: green; color: white; padding: 10px; margin: 5px;">
                    üìÖ Monthly Report
                </button>
                <button onclick="printYearlyProgress(${classId}, ${studentId})" style="background: purple; color: white; padding: 10px; margin: 5px;">
                    üìÖ Yearly Report
                </button>
            </div>
            
            <div id="progressReport">
                <h4>Recent Test Results:</h4>
                <table border="1" style="width: 100%; border-collapse: collapse;">
                    <tr>
                        <th>Subject</th>
                        <th>Topic</th>
                        <th>Date</th>
                        <th>Marks</th>
                        <th>Percentage</th>
                    </tr>
                    ${studentTests.map(test => `
                        <tr>
                            <td>${test.subject}</td>
                            <td>${test.topic}</td>
                            <td>${test.date}</td>
                            <td>${test.score.obtainedMarks}</td>
                            <td>${test.score.percentage}%</td>
                        </tr>
                    `).join('')}
                </table>
            </div>
        </div>
    `;
    
    document.getElementById('classDetails').innerHTML = progressHTML;
}

function printWeeklyProgress(classId, studentId) {
    const classes = getUserData('teacherClasses');
    const currentClass = classes.find(c => c.id == classId);
    const student = currentClass.students.find(s => s.id == studentId);
    
    // Get tests from last 7 days
    const oneWeekAgo = new Date();
    oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
    
    const weeklyTests = currentClass.scoresheets.filter(test => {
        const testDate = new Date(test.date);
        return testDate >= oneWeekAgo;
    }).map(test => {
        const studentScore = test.scores.find(score => score.studentId == studentId);
        return { test, score: studentScore };
    }).filter(item => item.score);
    
    printProgressReport(student, weeklyTests, 'Weekly Progress Report');
}

function printMonthlyProgress(classId, studentId) {
    const classes = getUserData('teacherClasses');
    const currentClass = classes.find(c => c.id == classId);
    const student = currentClass.students.find(s => s.id == studentId);
    
    // Get tests from last 30 days
    const oneMonthAgo = new Date();
    oneMonthAgo.setDate(oneMonthAgo.getDate() - 30);
    
    const monthlyTests = currentClass.scoresheets.filter(test => {
        const testDate = new Date(test.date);
        return testDate >= oneMonthAgo;
    }).map(test => {
        const studentScore = test.scores.find(score => score.studentId == studentId);
        return { test, score: studentScore };
    }).filter(item => item.score);
    
    printProgressReport(student, monthlyTests, 'Monthly Progress Report');
}

function printYearlyProgress(classId, studentId) {
    const classes = getUserData('teacherClasses');
    const currentClass = classes.find(c => c.id == classId);
    const student = currentClass.students.find(s => s.id == studentId);
    
    // Get all tests for this student
    const yearlyTests = currentClass.scoresheets.map(test => {
        const studentScore = test.scores.find(score => score.studentId == studentId);
        return { test, score: studentScore };
    }).filter(item => item.score);
    
    printProgressReport(student, yearlyTests, 'Yearly Progress Report');
}

function printProgressReport(student, tests, reportType) {
    const totalTests = tests.length;
    const averageScore = totalTests > 0 ? 
        Math.round(tests.reduce((sum, item) => sum + item.score.percentage, 0) / totalTests) : 0;
    
    const printContent = `
        <div style="text-align: center; margin-bottom: 30px;">
            <h2>${reportType}</h2>
            <h3>Student: ${student.name}</h3>
            <p><strong>Father:</strong> ${student.fatherName || 'N/A'} | <strong>Contact:</strong> ${student.contact || 'N/A'}</p>
        </div>
        
        <div style="margin: 20px 0;">
            <h4>Summary:</h4>
            <p><strong>Total Tests:</strong> ${totalTests}</p>
            <p><strong>Average Score:</strong> ${averageScore}%</p>
            <p><strong>Overall Grade:</strong> ${calculateLetterGrade(averageScore)}</p>
        </div>
        
        <table border="1" style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <tr style="background-color: #f2f2f2;">
                <th>Subject</th>
                <th>Topic</th>
                <th>Date</th>
                <th>Marks Obtained</th>
                <th>Total Marks</th>
                <th>Percentage</th>
                <th>Grade</th>
            </tr>
            ${tests.map(item => `
                <tr>
                    <td>${item.test.subject}</td>
                    <td>${item.test.topic}</td>
                    <td>${item.test.date}</td>
                    <td>${item.score.obtainedMarks}</td>
                    <td>${item.test.totalMarks}</td>
                    <td>${item.score.percentage}%</td>
                    <td>${calculateLetterGrade(item.score.percentage)}</td>
                </tr>
            `).join('')}
        </table>
        
        <div style="margin-top: 40px;">
            <p><strong>Teacher's Comments:</strong> ____________________________</p>
            <br>
            <p><strong>Parent's Signature:</strong> ____________________________</p>
        </div>
    `;
    
    const printWindow = window.open('', '', 'height=600,width=800');
    printWindow.document.write(`
        <html>
        <head>
            <title>${reportType} - ${student.name}</title>
            <style>
                body { font-family: Arial; padding: 20px; }
                table { width: 100%; border-collapse: collapse; }
                th, td { border: 1px solid black; padding: 8px; text-align: left; }
                th { background-color: #f2f2f2; font-weight: bold; }
            </style>
        </head>
        <body>
            ${printContent}
            <p style="text-align: center; margin-top: 30px; font-size: 12px; color: #666;">
                Generated by Ustaad Dost - ${new Date().toLocaleDateString()}
            </p>
        </body>
        </html>
    `);
    
    printWindow.document.close();
    printWindow.print();
}
ADD PROGRESS BUTTON TO STUDENT CARD
javascriptCopy// Update student card to include progress button
function viewAllStudents(classId) {
    const classes = getUserData('teacherClasses');
    const currentClass = classes.find(c => c.id == classId);
    
    let html = '<h3>Students List</h3>';
    
    currentClass.students.forEach((student, index) => {
        html += `
            <div style="border: 2px solid black; padding: 15px; margin: 10px 0; background: white;">
                <h4>${student.name}</h4>
                <p>Father: ${student.fatherName || 'Not added'}</p>
                <p>Contact: ${student.contact || 'Not added'}</p>
                
                <button onclick="editStudent${index}()" style="background: green; color: white; padding: 8px; margin: 3px; font-size: 14px;">
                    ‚úèÔ∏è Edit
                </button>
                <button onclick="deleteStudent${index}()" style="background: red; color: white; padding: 8px; margin: 3px; font-size: 14px;">
                    üóëÔ∏è Delete
                </button>
                <button onclick="viewProgress${index}()" style="background: blue; color: white; padding: 8px; margin: 3px; font-size: 14px;">
                    üìä Reports
                </button>
            </div>
        `;
        
        // Create individual functions
        window[`editStudent${index}`] = function() {
            editStudentProfile(classId, student.id);
        };
        
        window[`deleteStudent${index}`] = function() {
            deleteStudentProfile(classId, student.id);
        };
        
        window[`viewProgress${index}`] = function() {
            viewStudentProgress(classId, student.id);
        };
    });
    
    html += `<button onclick="openClass(${classId})">Back to Class</button>`;
    document.getElementById('classDetails').innerHTML = html;
}
Now teachers can print:

‚úÖ Single test reports
‚úÖ Weekly student progress
‚úÖ Monthly student progress
‚úÖ Yearly student progress

Keep everything else unchanged.Add to Conversation