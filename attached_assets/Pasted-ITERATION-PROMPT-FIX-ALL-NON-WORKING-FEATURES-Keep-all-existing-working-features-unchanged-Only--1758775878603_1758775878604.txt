ITERATION PROMPT - FIX ALL NON-WORKING FEATURES:
Keep all existing working features unchanged. Only fix these broken features:
CRITICAL FIXES - Multiple Features Not Working
FIX 1 - YEARLY PLANNER NOT OPENING
javascriptCopy// Debug and fix yearly planner
function showYearlyPlanner() {
    console.log("Opening Yearly Planner..."); // Debug log
    
    // Hide all other sections first
    document.getElementById('gradingBuddy').style.display = 'none';
    document.getElementById('chatbot').style.display = 'none';
    document.getElementById('dashboard').style.display = 'none';
    
    // Show yearly planner
    document.getElementById('yearlyPlanner').style.display = 'block';
    
    // Make sure content loads
    if (!document.querySelector('#yearlyPlanner .content')) {
        loadYearlyPlannerContent();
    }
}

function loadYearlyPlannerContent() {
    document.getElementById('yearlyPlanner').innerHTML = `
        <h2>ðŸ“… Yearly Planner</h2>
        <div class="planner-content">
            <h3>Create Your Weekly Template</h3>
            <div class="week-builder">
                <!-- Week template builder here -->
            </div>
        </div>
    `;
}
FIX 2 - GRADING BUDDY NOT OPENING
javascriptCopyfunction showGradingBuddy() {
    console.log("Opening Grading Buddy..."); // Debug log
    
    // Hide others, show grading buddy
    document.getElementById('yearlyPlanner').style.display = 'none';
    document.getElementById('chatbot').style.display = 'none';
    document.getElementById('dashboard').style.display = 'none';
    document.getElementById('gradingBuddy').style.display = 'block';
    
    // Load content if empty
    if (!document.querySelector('#gradingBuddy .content')) {
        loadGradingBuddyContent();
    }
}
FIX 3 - CHATBOT IMAGE UPLOAD NOT WORKING
javascriptCopy// Fix image processing in chatbot
function handleImageUpload(file) {
    console.log("Processing uploaded image...");
    
    const reader = new FileReader();
    reader.onload = function(e) {
        const imageData = e.target.result;
        
        // Send to OpenAI with vision capability
        const prompt = `
        Teacher has uploaded an image. Please analyze this image and provide helpful teaching suggestions.
        Respond as U-Dost in Roman Urdu mixed with English.
        Be specific about what you see in the image.
        `;
        
        // Call OpenAI API with image analysis
        analyzeImageWithAI(imageData, prompt);
    };
    reader.readAsDataURL(file);
}

function analyzeImageWithAI(imageData, prompt) {
    // OpenAI API call with image
    fetch('/api/openai-vision', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            image: imageData,
            prompt: prompt
        })
    })
    .then(response => response.json())
    .then(data => {
        displayUDostResponse(data.response);
    })
    .catch(error => {
        displayUDostResponse("Hello teacher! Image upload kar diya hai lekin main process nahi kar pa rahi. Text mein batayiye kya chahiye?");
    });
}
FIX 4 - VOICE MESSAGE NOT WORKING
javascriptCopy// Fix voice recording
let mediaRecorder;
let audioChunks = [];

function startVoiceRecording() {
    navigator.mediaDevices.getUserMedia({ audio: true })
    .then(stream => {
        mediaRecorder = new MediaRecorder(stream);
        mediaRecorder.start();
        
        // Show recording UI
        document.getElementById('voiceButton').innerHTML = 'ðŸ”´ Recording...';
        
        mediaRecorder.ondataavailable = event => {
            audioChunks.push(event.data);
        };
        
        mediaRecorder.onstop = () => {
            const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
            sendVoiceToAI(audioBlob);
            audioChunks = [];
        };
    })
    .catch(error => {
        console.error('Voice recording failed:', error);
        displayUDostResponse("Hello teacher! Voice recording nahi chal raha. Text mein type kar sakte hain!");
    });
}

function sendVoiceToAI(audioBlob) {
    // Convert speech to text, then send to U-Dost
    // For now, show acknowledgment
    displayUDostResponse("Hello teacher! Voice message sun liya hai. Text mein response de rahi hun...");
}
IMMEDIATE TEST STEPS:

Click "Yearly Planner" â†’ Should open planner page
Click "Grading Buddy" â†’ Should open grading page
Upload image in chat â†’ Should analyze and respond
Try voice message â†’ Should record and respond

Add console.log() statements to debug what's failing.
Keep all other working features unchanged.