ITERATION PROMPT - STREAMLINE CLASS MANAGEMENT & STUDENT ADDITION:
Keep all existing features unchanged. Only improve class and student management:
IMPROVE CLASS & STUDENT MANAGEMENT SYSTEM
1. SIMPLIFIED CLASS CREATION (ONE-TIME SETUP)
javascriptCopyfunction saveClass() {
    const className = document.getElementById('className').value;
    
    if (className) {
        const newClass = {
            id: Date.now(),
            name: className, // Just class name, no subject restriction
            students: [],
            scoresheets: [] // Will contain tests for all subjects
        };
        
        let classes = JSON.parse(localStorage.getItem('teacherClasses') || '[]');
        classes.push(newClass);
        localStorage.setItem('teacherClasses', JSON.stringify(classes));
        
        alert('‚úÖ Class created successfully!');
        loadExistingClasses();
        document.getElementById('addClassForm').style.display = 'none';
    } else {
        alert('Please enter class name!');
    }
}

// Update class creation form
function addClass() {
    document.getElementById('addClassForm').innerHTML = `
        <h3>Create New Class</h3>
        <input type="text" id="className" placeholder="Class Name (e.g., Grade 3-A)">
        <button onclick="saveClass()">Create Class</button>
        <button onclick="cancelAddClass()">Cancel</button>
    `;
    document.getElementById('addClassForm').style.display = 'block';
}
2. ENHANCED CLASS INTERFACE WITH NEW TEST BUTTON
javascriptCopyfunction openClass(classId) {
    const classes = JSON.parse(localStorage.getItem('teacherClasses') || '[]');
    const currentClass = classes.find(c => c.id === classId);
    
    if (!currentClass) {
        alert('Class not found!');
        return;
    }
    
    document.getElementById('classDetails').style.display = 'block';
    document.getElementById('classDetails').innerHTML = `
        <div class="class-detail-view">
            <h3>üìö ${currentClass.name}</h3>
            
            <!-- PROMINENT NEW TEST BUTTON -->
            <div class="new-test-section">
                <button onclick="createNewTest(${classId})" class="new-test-btn">
                    ‚ûï Create New Test
                </button>
            </div>
            
            <div class="class-stats">
                <div class="stat-card">
                    <h4>${currentClass.students.length}</h4>
                    <p>Students</p>
                </div>
                <div class="stat-card">
                    <h4>${currentClass.scoresheets ? currentClass.scoresheets.length : 0}</h4>
                    <p>Tests Conducted</p>
                </div>
            </div>
            
            <div class="class-sections">
                <div class="section">
                    <h4>üë• Students Management</h4>
                    <button onclick="addStudentsOptions(${classId})" class="action-btn">Add Students</button>
                    <button onclick="viewAllStudents(${classId})" class="action-btn">View All Students</button>
                </div>
                
                <div class="section">
                    <h4>üìä Tests & Assessments</h4>
                    <div id="recentTests_${classId}"></div>
                    <button onclick="viewAllTests(${classId})" class="action-btn">View All Tests</button>
                </div>
            </div>
        </div>
    `;
    
    loadRecentTests(classId);
}
3. STUDENT ADDITION WITH MANUAL & PICTURE OPTIONS
javascriptCopyfunction addStudentsOptions(classId) {
    document.getElementById('classDetails').innerHTML = `
        <div class="add-students-container">
            <h3>üë• Add Students to Class</h3>
            
            <div class="student-add-options">
                <div class="option-card" onclick="manualStudentAdd(${classId})">
                    <div class="option-icon">‚úèÔ∏è</div>
                    <h4>Manual Entry</h4>
                    <p>Add students one by one</p>
                </div>
                
                <div class="option-card" onclick="pictureStudentAdd(${classId})">
                    <div class="option-icon">üì∏</div>
                    <h4>Picture Upload</h4>
                    <p>Upload student list photo</p>
                </div>
            </div>
            
            <div id="studentAddInterface"></div>
            
            <button onclick="openClass(${classId})" class="back-btn">‚¨ÖÔ∏è Back to Class</button>
        </div>
    `;
}

function manualStudentAdd(classId) {
    document.getElementById('studentAddInterface').innerHTML = `
        <div class="manual-add-form">
            <h4>‚úèÔ∏è Add Student Manually</h4>
            <input type="text" id="studentName" placeholder="Student Name" required>
            <button onclick="addSingleStudent(${classId})" class="add-btn">Add Student</button>
            
            <div class="bulk-add">
                <h5>Or add multiple students (one per line):</h5>
                <textarea id="bulkStudents" placeholder="Ahmed Ali&#10;Fatima Khan&#10;Hassan Ahmed" rows="5"></textarea>
                <button onclick="addBulkStudents(${classId})" class="add-btn">Add All</button>
            </div>
        </div>
    `;
}

function addSingleStudent(classId) {
    const studentName = document.getElementById('studentName').value.trim();
    if (!studentName) {
        alert('Please enter student name!');
        return;
    }
    
    const newStudent = {
        id: Date.now(),
        name: studentName,
        fatherName: '',
        motherName: '',
        contact: '',
        address: '',
        gender: ''
    };
    
    let classes = JSON.parse(localStorage.getItem('teacherClasses') || '[]');
    const classIndex = classes.findIndex(c => c.id === classId);
    classes[classIndex].students.push(newStudent);
    localStorage.setItem('teacherClasses', JSON.stringify(classes));
    
    document.getElementById('studentName').value = '';
    alert(`‚úÖ ${studentName} added successfully!`);
}

function addBulkStudents(classId) {
    const bulkText = document.getElementById('bulkStudents').value.trim();
    if (!bulkText) {
        alert('Please enter student names!');
        return;
    }
    
    const studentNames = bulkText.split('\n').map(name => name.trim()).filter(name => name);
    
    let classes = JSON.parse(localStorage.getItem('teacherClasses') || '[]');
    const classIndex = classes.findIndex(c => c.id === classId);
    
    studentNames.forEach(name => {
        const newStudent = {
            id: Date.now() + Math.random(),
            name: name,
            fatherName: '',
            motherName: '',
            contact: '',
            address: '',
            gender: ''
        };
        classes[classIndex].students.push(newStudent);
    });
    
    localStorage.setItem('teacherClasses', JSON.stringify(classes));
    
    document.getElementById('bulkStudents').value = '';
    alert(`‚úÖ ${studentNames.length} students added successfully!`);
}
4. PICTURE UPLOAD FOR STUDENT NAMES
javascriptCopyfunction pictureStudentAdd(classId) {
    document.getElementById('studentAddInterface').innerHTML = `
        <div class="picture-add-form">
            <h4>üì∏ Upload Student List Picture</h4>
            <p>Upload a photo containing student names</p>
            
            <div class="upload-area">
                <input type="file" id="studentListImage" accept="image/*" onchange="previewImage()">
                <div class="upload-preview" id="imagePreview"></div>
            </div>
            
            <button onclick="extractStudentNames(${classId})" class="extract-btn">Extract Names</button>
            
            <div id="extractedNamesContainer" style="display:none;">
                <h5>üìã Extracted Names (Edit if needed):</h5>
                <div id="extractedNamesList"></div>
                <button onclick="saveExtractedStudents(${classId})" class="save-btn">üíæ Save Students</button>
            </div>
        </div>
    `;
}

function previewImage() {
    const file = document.getElementById('studentListImage').files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            document.getElementById('imagePreview').innerHTML = `
                <img src="${e.target.result}" style="max-width: 300px; max-height: 200px; border-radius: 8px;">
            `;
        };
        reader.readAsDataURL(file);
    }
}

function extractStudentNames(classId) {
    // Simulate name extraction (in real app, use OCR)
    const sampleNames = [
        "Ahmed Ali", "Fatima Sheikh", "Hassan Khan", "Ayesha Ahmad", 
        "Ali Raza", "Zainab Malik", "Omar Farooq", "Maryam Qureshi"
    ];
    
    let extractedHTML = '';
    sampleNames.forEach((name, index) => {
        extractedHTML += `
            <div class="extracted-name">
                <input type="text" id="extractedName_${index}" value="${name}" class="name-input">
                <button onclick="removeExtractedName(${index})" class="remove-btn">‚ùå</button>
            </div>
        `;
    });
    
    document.getElementById('extractedNamesList').innerHTML = extractedHTML;
    document.getElementById('extractedNamesContainer').style.display = 'block';
    
    // Store count for processing
    window.extractedCount = sampleNames.length;
    
    alert('üì∏ Names extracted from image! Please review and edit if needed.');
}

function saveExtractedStudents(classId) {
    let classes = JSON.parse(localStorage.getItem('teacherClasses') || '[]');
    const classIndex = classes.findIndex(c => c.id === classId);
    
    let addedCount = 0;
    for (let i = 0; i < window.extractedCount; i++) {
        const nameInput = document.getElementById(`extractedName_${i}`);
        if (nameInput && nameInput.value.trim()) {
            const newStudent = {
                id: Date.now() + i,
                name: nameInput.value.trim(),
                fatherName: '',
                motherName: '',
                contact: '',
                address: '',
                gender: ''
            };
            classes[classIndex].students.push(newStudent);
            addedCount++;
        }
    }
    
    localStorage.setItem('teacherClasses', JSON.stringify(classes));
    alert(`‚úÖ ${addedCount} students added from picture!`);
    openClass(classId);
}

function removeExtractedName(index) {
    document.getElementById(`extractedName_${index}`).parentElement.remove();
}
5. STUDENT PROFILE EDITING
javascriptCopyfunction viewAllStudents(classId) {
    const classes = JSON.parse(localStorage.getItem('teacherClasses') || '[]');
    const currentClass = classes.find(c => c.id === classId);
    
    let studentsHTML = `
        <div class="students-list">
            <h3>üë• Students in ${currentClass.name}</h3>
            
            <div class="students-grid">
                ${currentClass.students.map(student => `
                    <div class="student-card">
                        <div class="student-info">
                            <h4>${student.name}</h4>
                            <p class="student-details">
                                ${student.fatherName ? `Father: ${student.fatherName}` : 'Father: Not added'}<br>
                                ${student.contact ? `Contact: ${student.contact}` : 'Contact: Not added'}
                            </p>
                        </div>
                        <div class="student-actions">
                            <button onclick="editStudentProfile(${classId}, ${student.id})" class="edit-btn">‚úèÔ∏è Edit</button>
                            <button onclick="deleteStudent(${classId}, ${student.id})" class="delete-btn">üóëÔ∏è</button>
                        </div>
                    </div>
                `).join('')}
            </div>
            
            <button onclick="openClass(${classId})" class="back-btn">‚¨ÖÔ∏è Back to Class</button>
        </div>
    `;
    
    document.getElementById('classDetails').innerHTML = studentsHTML;
}

function editStudentProfile(classId, studentId) {
    const classes = JSON.parse(localStorage.getItem('teacherClasses') || '[]');
    const currentClass = classes.find(c => c.id === classId);
    const student = currentClass.students.find(s => s.id === studentId);
    
    const editForm = `
        <div class="edit-student-form">
            <h3>‚úèÔ∏è Edit Student Profile</h3>
            
            <div class="form-group">
                <label>Student Name:</label>
                <input type="text" id="editName" value="${student.name}" required>
            </div>
            
            <div class="form-group">
                <label>Father's Name:</label>
                <input type="text" id="editFatherName" value="${student.fatherName || ''}" placeholder="Father's name">
            </div>
            
            <div class="form-group">
                <label>Mother's Name:</label>
                <input type="text" id="editMotherName" value="${student.motherName || ''}" placeholder="Mother's name">
            </div>
            
            <div class="form-group">
                <label>Guardian Contact:</label>
                <input type="tel" id="editContact" value="${student.contact || ''}" placeholder="03xxxxxxxxx">
            </div>
            
            <div class="form-group">
                <label>Address:</label>
                <input type="text" id="editAddress" value="${student.address || ''}" placeholder="Home address">
            </div>
            
            <div class="form-group">
                <label>Gender:</label>
                <select id="editGender">
                    <option value="">Select Gender</option>
                    <option value="Male" ${student.gender === 'Male' ? 'selected' : ''}>Male</option>
                    <option value="Female" ${student.gender === 'Female' ? 'selected' : ''}>Female</option>
                </select>
            </div>
            
            <div class="form-actions">
                <button onclick="saveStudentProfile(${classId}, ${studentId})" class="save-btn">üíæ Save Changes</button>
                <button onclick="viewAllStudents(${classId})" class="cancel-btn">Cancel</button>
            </div>
        </div>
    `;
    
    document.getElementById('classDetails').innerHTML = editForm;
}

function saveStudentProfile(classId, studentId) {
    const updatedStudent = {
        id: studentId,
        name: document.getElementById('editName').value,
        fatherName: document.getElementById('editFatherName').value,
        motherName: document.getElementById('editMotherName').value,
        contact: document.getElementById('editContact').value,
        address: document.getElementById('editAddress').value,
        gender: document.getElementById('editGender').value
    };
    
    let classes = JSON.parse(localStorage.getItem('teacherClasses') || '[]');
    const classIndex = classes.findIndex(c => c.id === classId);
    const studentIndex = classes[classIndex].students.findIndex(s => s.id === studentId);
    
    classes[classIndex].students[studentIndex] = updatedStudent;
    localStorage.setItem('teacherClasses', JSON.stringify(classes));
    
    alert('‚úÖ Student profile updated successfully!');
    viewAllStudents(classId);
}
KEY IMPROVEMENTS:

‚úÖ One-time class creation (no subject restriction)
üìù Multiple tests per class with subject selection in each test
üë• Manual student addition (single + bulk)
üì∏ Picture upload with name extraction
‚úèÔ∏è Complete student profile editing
üíæ Proper data persistence
üéØ Better user workflow

Keep all other app features unchanged.