ITERATION PROMPT - FIX U-DOST CHATBOT & REMOVE TEST FEATURE:
Keep all existing features unchanged. Only fix these critical issues:
FIX 1 - REMOVE TEST FEATURE FROM USER INTERFACE
CURRENT PROBLEM:

Test feature showing to users when it's for backend only
Orange test button visible in app

REQUIRED FIX:
javascriptCopy// COMPLETELY REMOVE TEST FEATURE FROM USER INTERFACE
function removeTestingFeature() {
    // Remove test button if exists
    const testButton = document.querySelector('.test-btn');
    if (testButton) {
        testButton.remove();
    }
    
    // Remove any test-related functions from user access
    // Keep testing functions only for development/backend use
}

// Remove addTestingMode() from app initialization
document.addEventListener('DOMContentLoaded', function() {
    // Your existing initialization code...
    // DO NOT INCLUDE: addTestingMode();
});
FIX 2 - COMPLETELY REBUILD U-DOST RESPONSE SYSTEM
CURRENT PROBLEM:

U-Dost not understanding Grade + Subject + Topic + Menu Selection combination
Generic responses instead of specific content

REQUIRED COMPLETE FIX:
javascriptCopy// STEP 1: Capture user selections properly
let currentUserSelection = {
    menuChoice: '',
    grade: '',
    subject: '',
    topic: ''
};

function processUserFlow() {
    // When user selects from menu
    document.querySelectorAll('.menu-option').forEach(option => {
        option.addEventListener('click', function() {
            currentUserSelection.menuChoice = this.textContent; // Activities, Lesson Plans, etc.
            showGradeSelection();
        });
    });
}

function showGradeSelection() {
    document.getElementById('chatResponse').innerHTML = `
        <p>You selected: <strong>${currentUserSelection.menuChoice}</strong></p>
        <p>Select Grade:</p>
        <button onclick="selectGrade('1')">Grade 1</button>
        <button onclick="selectGrade('2')">Grade 2</button>
        <button onclick="selectGrade('3')">Grade 3</button>
        <button onclick="selectGrade('4')">Grade 4</button>
        <button onclick="selectGrade('5')">Grade 5</button>
    `;
}

function selectGrade(grade) {
    currentUserSelection.grade = grade;
    showSubjectSelection();
}

function showSubjectSelection() {
    document.getElementById('chatResponse').innerHTML = `
        <p>You selected: <strong>${currentUserSelection.menuChoice}</strong> for <strong>Grade ${currentUserSelection.grade}</strong></p>
        <p>Select Subject:</p>
        <button onclick="selectSubject('English')">English</button>
        <button onclick="selectSubject('Math')">Math</button>
        <button onclick="selectSubject('Urdu')">Urdu</button>
        <button onclick="selectSubject('Islamiyat')">Islamiyat</button>
        <button onclick="selectSubject('Science')">Science</button>
        <button onclick="selectSubject('Social Studies')">Social Studies</button>
        <button onclick="selectSubject('General Knowledge')">General Knowledge</button>
    `;
}

function selectSubject(subject) {
    currentUserSelection.subject = subject;
    showTopicInput();
}

function showTopicInput() {
    document.getElementById('chatResponse').innerHTML = `
        <p>You selected: <strong>${currentUserSelection.menuChoice}</strong> for <strong>Grade ${currentUserSelection.grade} ${currentUserSelection.subject}</strong></p>
        <p>Enter the topic you want to teach:</p>
        <input type="text" id="topicInput" placeholder="e.g., nouns, addition, Prophet Muhammad">
        <button onclick="generateSpecificResponse()">Generate Content</button>
    `;
}

function generateSpecificResponse() {
    currentUserSelection.topic = document.getElementById('topicInput').value;
    
    if (!currentUserSelection.topic) {
        alert('Please enter a topic!');
        return;
    }
    
    // NOW generate specific response
    const specificResponse = createTargetedResponse(
        currentUserSelection.menuChoice,
        currentUserSelection.grade,
        currentUserSelection.subject,
        currentUserSelection.topic
    );
    
    displayUDostResponse(specificResponse);
}
FIX 3 - CREATE TARGETED RESPONSE SYSTEM
javascriptCopyfunction createTargetedResponse(menuChoice, grade, subject, topic) {
    console.log(`Generating: ${menuChoice} for Grade ${grade} ${subject} topic: ${topic}`);
    
    // SPECIFIC RESPONSE BASED ON COMBINATION
    if (menuChoice === 'Activities') {
        return generateActivitiesResponse(grade, subject, topic);
    } else if (menuChoice === 'Lesson Plans') {
        return generateLessonPlanResponse(grade, subject, topic);
    } else if (menuChoice === 'Teaching Strategies') {
        return generateStrategiesResponse(grade, subject, topic);
    } else if (menuChoice === 'Assessments') {
        return generateAssessmentResponse(grade, subject, topic);
    } else if (menuChoice === 'Definitions') {
        return generateDefinitionResponse(grade, subject, topic);
    }
}

function generateActivitiesResponse(grade, subject, topic) {
    // GRADE 1 ENGLISH NOUNS EXAMPLE
    if (grade === '1' && subject === 'English' && topic.toLowerCase().includes('noun')) {
        return `Hello teacher! Grade 1 English ke liye "${topic}" activities:

ğŸ‘« PAIR WORK ACTIVITIES:
ğŸŒŸ Point and Name: Ahmed aur Fatima classroom objects point kar ke name bolenge
ğŸŒŸ My Things Game: "This is MY book, This is MY pen" practice karenge
ğŸŒŸ Picture Matching: Object pictures ko unke names se match karenge

Grade 1 ke bachon ke liye bilkul simple! Try kariye teacher! ğŸ˜Š`;
    }
    
    // GRADE 4 ISLAMIYAT PROPHET EXAMPLE
    if (grade === '4' && subject === 'Islamiyat' && topic.toLowerCase().includes('prophet')) {
        return `Hello teacher! Grade 4 Islamiyat ke liye "${topic}" activities:

ğŸ‘¥ GROUP ACTIVITIES:
ğŸŒŸ Hadith Sharing: Groups mein Prophet ki teachings share karenge
ğŸŒŸ Seerah Timeline: Prophet ki life events ka timeline banayenge  
ğŸŒŸ Good Deeds Challenge: Prophet ke akhlaq follow karne ka challenge

Grade 4 ke liye perfect depth! Kaisa laga teacher? ğŸ˜Š`;
    }
    
    // FALLBACK - Generate based on subject patterns
    return generateSubjectSpecificActivities(grade, subject, topic);
}

function generateSubjectSpecificActivities(grade, subject, topic) {
    const templates = {
        'English': `Hello teacher! Grade ${grade} English ke liye "${topic}" activities ready hain:
ğŸŒŸ Reading Activity: ${topic} ke bare mein simple sentences padhenge
ğŸŒŸ Writing Practice: ${topic} se related words likhenge  
ğŸŒŸ Speaking Exercise: ${topic} ke bare mein baat karenge`,
        
        'Math': `Hello teacher! Grade ${grade} Math ke liye "${topic}" activities:
ğŸŒŸ Problem Solving: ${topic} ke real-life examples solve karenge
ğŸŒŸ Number Games: ${topic} ko games ke through practice karenge
ğŸŒŸ Practice Worksheets: ${topic} ke exercises complete karenge`,
        
        'Islamiyat': `Hello teacher! Grade ${grade} Islamiyat ke liye "${topic}" activities:
ğŸŒŸ Quranic Connection: ${topic} se related ayat discuss karenge
ğŸŒŸ Islamic Values: ${topic} se seekhne wale lessons practice karenge
ğŸŒŸ Dua Learning: ${topic} se related duas yaad karenge`
    };
    
    return templates[subject] || `Hello teacher! Grade ${grade} ${subject} ke liye "${topic}" activities tayyar kar rahi hun...`;
}

function generateLessonPlanResponse(grade, subject, topic) {
    return `Hello teacher! Grade ${grade} ${subject} ke liye "${topic}" lesson plan:

ğŸ“š LESSON PLAN:
- RECALL: Previous knowledge about ${topic} check kariye
- HOOK: ${topic} ke bare mein interesting story ya example diye  
- EXPLAIN: ${topic} ki main concepts clear kariye
- GUIDED PRACTICE: Teacher ke saath ${topic} practice kariye
- INDEPENDENT PRACTICE: Students khud ${topic} try karenge
- CONCLUSION: ${topic} ke key points repeat kariye

Grade ${grade} ke liye perfect! Try kariye teacher! ğŸ˜Š`;
}

function generateAssessmentResponse(grade, subject, topic) {
    return `Hello teacher! Grade ${grade} ${subject} ke liye "${topic}" assessment:

ğŸ“ ASSESSMENT OPTIONS:
ğŸ”¹ MCQ: ${topic} ke bare mein multiple choice questions
ğŸ”¹ True/False: ${topic} ke statements par true/false
ğŸ”¹ Fill in Blanks: ${topic} ke key words fill kariye
ğŸ”¹ Short Questions: ${topic} ke bare mein 2-3 sentences likhiye

Grade ${grade} ke liye appropriate level! Test kar sakte hain teacher! ğŸ˜Š`;
}
RESULT:

User selects: Activities â†’ Grade 4 â†’ Islamiyat â†’ "Prophet Muhammad"
Gets: Specific Islamic activities for Grade 4 about Prophet Muhammad
NOT generic or wrong subject responses

Remove test feature completely from user interface, only keep for backend.
Keep all other app features unchanged.